(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(39)},30:function(e,t,a){},31:function(e,t){e.exports={prettySize:function(e){return e>=1073741824?(e/1073741824).toFixed(2)+" GB":e>=1048576?(e/1048576).toFixed(2)+" MB":e>=1024?(e/1024).toFixed(2)+" KB":e+" bytes"}}},39:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(22),r=a.n(i),o=a(14),c=a(5),s=(a(30),a(6)),u=a(7),m=a(10),f=a(8),d=a(9),h=function(e){var t=e.file;return l.a.createElement("div",{className:"file"},l.a.createElement("span",{className:"title"},l.a.createElement("a",{href:"files/"+t._id},t.filename)))},p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={error:"",files:[],loading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://adegroat.com/api/files").then(function(t){return 200!==t.status&&e.setState({error:"Unauthorized!"}),t.json()}).then(function(t){e.setState({files:t,loading:!1})}).catch(console.log)}},{key:"render",value:function(){var e=this.state.files;return this.state.loading?l.a.createElement("h3",null,"Loading..."):0===e.length?l.a.createElement("h3",null,"No Files."):l.a.createElement("div",{className:"files"},l.a.createElement("h2",null,e.length," Files"),e.map(function(e){return l.a.createElement(h,{key:e._id,file:e})}))}}]),t}(n.Component),E=a(31),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={file:{},loading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://adegroat.com/api/files/"+this.props.match.params.id).then(function(e){return e.json()}).then(function(t){e.setState({file:t,loading:!1})})}},{key:"render",value:function(){if(this.state.loading)return l.a.createElement("h1",null,"Loading...");var e=this.state.file;return l.a.createElement("div",null,l.a.createElement("h2",null,e.filename),l.a.createElement("p",null,l.a.createElement("b",null,"Size:")," ",E.prettySize(e.size)),l.a.createElement("p",null,l.a.createElement("b",null,"Uploaded:")," ",new Date(e.upload_time).toGMTString()),l.a.createElement("a",{href:"https://adegroat.com/api/files/"+e._id+"?dl=1",target:"_blank",rel:"noopener noreferrer",className:"button button-large"},"Download"))}}]),t}(n.Component),g=a(13),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={input_file:null},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.handleFileChange=a.handleFileChange.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.getElementById("file_input").files[0];if(void 0!==t){var a=new FormData;a.append("file",t),fetch("https://adegroat.com/api/files/new",{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){e.file&&(window.location.href="/files/"+e.file)})}}},{key:"handleFileChange",value:function(e){e.target.files[0]&&this.setState({input_file:e.target.files[0]})}},{key:"render",value:function(){var e=this.state.input_file;return l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"uploadform"},l.a.createElement("h1",{className:"text-center"},"Upload a file"),l.a.createElement("p",{className:"text-center"},"Drag and drop a file or click to select a file."),l.a.createElement("div",null,l.a.createElement("input",{type:"file",id:"file_input",multiple:!0,onChange:this.handleFileChange})),e&&l.a.createElement("p",{className:"top-buffer-lg text-center"},l.a.createElement("b",null,"File:")," ",e.name)),e&&l.a.createElement("div",{className:"top-buffer"},l.a.createElement("input",{type:"submit",value:"Upload",className:"button"})))}}]),t}(n.Component);a(32).config();var j=function(){return l.a.createElement("header",null,l.a.createElement("div",{className:"content"},l.a.createElement("img",{src:"/logo.png",alt:""}),l.a.createElement("div",{className:"title"},"File Sharing App"),l.a.createElement("div",{className:"links"},l.a.createElement(o.b,{to:"/"},"Upload"),l.a.createElement(o.b,{to:"/files"},"Files"))))},w=function(){return l.a.createElement(o.a,null,l.a.createElement(j,null),l.a.createElement("div",{className:"container"},l.a.createElement(c.a,{path:"/",exact:!0,component:v}),l.a.createElement(c.a,{path:"/files",exact:!0,component:p}),l.a.createElement(c.a,{path:"/files/:id",component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.abab117b.chunk.js.map